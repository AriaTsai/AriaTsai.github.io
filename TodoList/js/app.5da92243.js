(function(t){function e(e){for(var o,i,r=e[0],c=e[1],d=e[2],m=0,u=[];m<r.length;m++)i=r[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(u.length)u.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},n={app:0},s=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/TodoList/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"104d":function(t,e,a){t.exports=a.p+"img/comment.c7ecc794.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("div",{staticClass:"nav-group"},[a("router-link",{staticClass:"title",attrs:{to:"/all"}},[t._v("全部")]),t._v(" | "),a("router-link",{staticClass:"title",attrs:{to:"/active"}},[t._v("未完成")]),t._v(" | "),a("router-link",{staticClass:"title",attrs:{to:"/complete"}},[t._v("已完成")])],1)]),a("div",{staticClass:"content-group"},[a("div",{staticClass:"content"},[a("AddTodo"),a("div",{attrs:{id:"list"}},t._l(t.todoIndex,(function(t){return a("TodoListItem",{key:t,attrs:{index:t}})})),1)],1)])])},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"todoList"},[a("div",{staticClass:"todoListItem",class:{marking:t.todo.mark}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.complete,expression:"complete"}],staticClass:"check",attrs:{type:"checkbox",id:"check"},domProps:{checked:Array.isArray(t.complete)?t._i(t.complete,null)>-1:t.complete},on:{change:function(e){var a=t.complete,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.complete=a.concat([s])):i>-1&&(t.complete=a.slice(0,i).concat(a.slice(i+1)))}else t.complete=n}}}),a("div",{staticClass:"todobox"},[null!==t.edit?a("input",{directives:[{name:"model",rawName:"v-model",value:t.edit,expression:"edit"},{name:"focus",rawName:"v-focus"}],staticClass:"edit",class:{marking:t.todo.mark},attrs:{type:"text"},domProps:{value:t.edit},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitHandler(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelHandler(e)}],input:function(e){e.target.composing||(t.edit=e.target.value)}}}):a("label",{staticClass:"todoName",attrs:{for:""}},[t._v(t._s(t.todo.content))]),a("div",{staticClass:"text-group"},[a("label",{staticClass:"todoDeadline",attrs:{for:""}}),a("span",[t._v(t._s(t.todo.deadline))])])]),a("div",{staticClass:"pic-group"},[a("div",{staticClass:"star-group-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mark,expression:"mark"}],attrs:{type:"checkbox",id:"star"},domProps:{checked:Array.isArray(t.mark)?t._i(t.mark,null)>-1:t.mark},on:{change:function(e){var a=t.mark,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.mark=a.concat([s])):i>-1&&(t.mark=a.slice(0,i).concat(a.slice(i+1)))}else t.mark=n}}}),0==t.mark?a("label",{staticClass:"star",attrs:{for:"star"}}):a("label",{staticClass:"star_full",attrs:{for:"star"}})]),a("input",{staticClass:"edit",class:{marking:t.todo.mark},attrs:{type:"button"},on:{click:t.editHandler}}),a("input",{staticClass:"destroy",class:{marking:t.todo.mark},attrs:{type:"button"},on:{click:t.destroyHandler}})])]),null!==t.edit?a("div",{staticClass:"addTodo"},[a("div",{staticClass:"task"},[a("div",{staticClass:"add"},[a("div",{staticClass:"deadline"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.deadline,expression:"deadline"}],attrs:{type:"date",name:"bday"},domProps:{value:t.deadline},on:{input:function(e){e.target.composing||(t.deadline=e.target.value)}}})]),a("div",{staticClass:"comment"},[t._m(1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{name:"",id:"",cols:"30",rows:"6"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),a("div",{staticClass:"bottom-group"},[a("button",{staticClass:"cancel",on:{click:t.cancelHandler}},[t._v("Cancel")]),a("button",{staticClass:"addTask",on:{click:t.submitHandler}},[a("span",[t._v("+")]),t._v("AddTask")])])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("img",{attrs:{src:a("83f9"),alt:""}}),o("span",[t._v("Deadline")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("img",{attrs:{src:a("104d"),alt:""}}),o("span",[t._v("Comment")])])}],c=(a("a9e3"),{data:function(){return{edit:null,deadline:"",comment:""}},props:{index:{type:Number,required:!0}},watch:{"todo.mark":function(t){console.log("watching"),console.log(t)}},computed:{todo:function(){return this.$store.state.todos[this.index]},complete:{get:function(){return this.todo.complete},set:function(t){this.$store.commit("UPDATE_TODO",{index:this.index,data:{content:this.todo.content,complete:t,mark:this.todo.mark,deadline:this.todo.deadline,comment:this.todo.comment}})}},mark:{get:function(){return this.todo.mark},set:function(t){this.$store.commit("UPDATE_TODO",{index:this.index,data:{content:this.todo.content,complete:this.todo.complete,deadline:this.todo.deadline,comment:this.todo.comment,mark:t}})}}},methods:{destroyHandler:function(){confirm("是否要刪除 ".concat(this.todo.content," ?"))&&this.$store.commit("REMOVE_TODO",this.index)},editHandler:function(){this.edit=this.todo.content},submitHandler:function(){if(!this.edit)return this.destroyHandler();this.$store.commit("UPDATE_TODO",{index:this.index,data:{content:this.edit,complete:this.todo.complete,mark:this.todo.mark,deadline:this.deadline,comment:this.comment}}),this.cancelHandler()},cancelHandler:function(){this.edit=null}}}),d=c,l=a("2877"),m=Object(l["a"])(d,i,r,!1,null,null,null),u=m.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addNew"},["A"==t.addnew?a("button",{on:{click:t.addNewtask}},[a("span",[t._v("+")]),t._v("add Task ")]):a("div",{staticClass:"addTodo"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text-group"},[a("input",{staticClass:"check",attrs:{type:"checkbox",id:"check"}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.todo,expression:"todo",modifiers:{trim:!0}}],staticClass:"todoTitle",attrs:{type:"text",placeholder:"Type Something Here…"},domProps:{value:t.todo},on:{input:function(e){e.target.composing||(t.todo=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("div",{staticClass:"pic-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.mark,expression:"mark"}],staticClass:"star-group",attrs:{type:"checkbox",id:"star"},domProps:{checked:Array.isArray(t.mark)?t._i(t.mark,null)>-1:t.mark},on:{click:t.markHandler,change:function(e){var a=t.mark,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.mark=a.concat([s])):i>-1&&(t.mark=a.slice(0,i).concat(a.slice(i+1)))}else t.mark=n}}}),0==t.mark?a("label",{staticClass:"star",attrs:{for:"star"}}):a("label",{staticClass:"star_full",attrs:{for:"star"}}),a("div",{staticClass:"edit"})])]),a("div",{staticClass:"task"},[a("div",{staticClass:"add"},[a("div",{staticClass:"deadline"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.deadline,expression:"deadline"}],attrs:{type:"date",name:"bday"},domProps:{value:t.deadline},on:{input:function(e){e.target.composing||(t.deadline=e.target.value)}}})]),a("div",{staticClass:"comment"},[t._m(1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{name:"",id:"",cols:"30",rows:"6",placeholder:"備註欄"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),a("div",{staticClass:"bottom-group"},[a("button",{staticClass:"cancel",on:{click:t.cancelHandler}},[t._v("Cancel")]),a("button",{staticClass:"addTask",on:{click:t.submitHandler}},[a("span",[t._v("+")]),t._v("AddTask")])])])])])},v=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("img",{attrs:{src:a("83f9"),alt:""}}),o("span",[t._v("Deadline")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("img",{attrs:{src:a("104d"),alt:""}}),o("span",[t._v("Comment")])])}],f={data:function(){return{addnew:"A",todo:"",deadline:"",comment:"",mark:!1}},methods:{addNewtask:function(){this.addnew="B"},cancelHandler:function(){this.addnew="A",this.todo=""},markHandler:function(){var t=document.querySelector(".star-group");t.checked?(this.mark=!0,console.log(this.mark)):(this.mark=!1,console.log(this.mark))},submitHandler:function(){this.todo&&(this.$store.commit("ADD_TODOS",{content:this.todo,complete:!1,deadline:this.deadline,comment:this.comment,mark:this.mark}),this.todo="",this.deadline="",this.comment="",this.addnew="A")}}},h=f,k=Object(l["a"])(h,p,v,!1,null,null,null),g=k.exports,_={components:{TodoListItem:u,AddTodo:g},computed:{todoIndex:function(){return this.$store.getters["todoIndex"]}},mounted:function(){this.$store.dispatch("INIT_TODOS")},methods:{dateSort:function(t,e){return t.deadline-e.deadline}}},y=_,C=(a("83ea"),Object(l["a"])(y,n,s,!1,null,null,null)),b=C.exports,x=a("31bd"),O=a("8c4f");o["a"].use(O["a"]);var T=[{path:"/all",name:"all"},{path:"/active",name:"active"},{path:"/complete",name:"complete"},{path:"*",redirect:"/all"}],w=new O["a"]({routes:T}),A=w,D=(a("4de4"),a("c975"),a("d81d"),a("a434"),a("b0c0"),a("2f62"));o["a"].use(D["a"]);var S={load:function(){return JSON.parse(localStorage.getItem("vue-todos")||"[]")},save:function(t){localStorage.setItem("vue-todos",JSON.stringify(t))}},E={all:function(t){return t},active:function(t){return t.filter((function(t){return!t.complete}))},complete:function(t){return t.filter((function(t){return t.complete}))}},P=new D["a"].Store({strict:!0,state:{todos:[{content:"AAA",complete:!1,deadline:!1,comment:!1,mark:!1},{content:"BBB",complete:!0,deadline:!1,comment:!1,mark:!1},{content:"CCC",complete:!0,deadline:!1,comment:!1,mark:!1}]},getters:{todoIndex:function(t){return E[t.route.name](t.todos).map((function(e){return t.todos.indexOf(e)}))}},mutations:{SET_TODOS:function(t,e){t.todos=e,S.save(t.todos)},ADD_TODOS:function(t,e){t.todos.push(e),t.todos.sort((function(t,e){return t.deadline>e.deadline?1:-1})),S.save(t.todos)},UPDATE_TODO:function(t,e){var a=e.index,o=e.data;t.todos[a].content=o.content,t.todos[a].complete=o.complete,t.todos[a].mark=o.mark,t.todos[a].deadline=o.deadline,t.todos[a].comment=o.comment,S.save(t.todos)},REMOVE_TODO:function(t,e){t.todos.splice(e,1),S.save(t.todos)}},actions:{INIT_TODOS:function(t){var e=t.commit;e("SET_TODOS",S.load())}},modules:{}});Object(x["sync"])(P,A),o["a"].config.productionTip=!1,o["a"].directive("focus",{inserted:function(t){t.focus()}}),new o["a"]({router:A,store:P,render:function(t){return t(b)}}).$mount("#app")},"83ea":function(t,e,a){"use strict";var o=a("d1a3"),n=a.n(o);n.a},"83f9":function(t,e,a){t.exports=a.p+"img/deadlines.188967d4.png"},d1a3:function(t,e,a){}});
//# sourceMappingURL=app.5da92243.js.map